<template>
  <div class="home">
    <header>
      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
      <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Quicksand:wght@300..700&family=Sofia&display=swap"
        rel="stylesheet"
      />
    </header>
    <div class="header">
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e4a22e26379f9b43142545_illustration-header%235.webp"
        loading="lazy"
        height=""
        width="120"
        alt=""
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a47"
        class="header-homepage_image _1"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e4a22e68e9491a96729797_illustration-header%236.webp"
        loading="lazy"
        width="80"
        height=""
        alt=""
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a49"
        class="header-homepage_image _2"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e4735b5e25ca8fa74395d7_illustration-header.webp"
        loading="lazy"
        width="241"
        alt=""
        class="header-homepage_image _3"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e4a22eda07c7db7a12d570_illustration-header%237.webp"
        loading="lazy"
        width="80"
        height=""
        alt=""
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a48"
        class="header-homepage_image _4"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e4a22e446e079c4846858f_illustration-header%234.webp"
        loading="lazy"
        width="80"
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a4b"
        alt=""
        class="header-homepage_image _5"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e4a22e26f4aca4c00350b8_illustration-header%233.webp"
        loading="lazy"
        width="80"
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a4c"
        alt=""
        class="header-homepage_image _6"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64ec817a2a3121cc181bd961_illustration-paper.png"
        loading="lazy"
        width="100"
        alt=""
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a4d"
        class="header-homepage_image _7"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e84a283f5f37f9bee2080f_illustration-house-of-papers.webp"
        loading="lazy"
        width="230"
        alt=""
        class="header-homepage_image _9"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e473da5a9cb221a3780c37_illustration-header%231.webp"
        loading="lazy"
        width="230"
        alt=""
        class="header-homepage_image _8"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e84a27b00b97ccab1517c6_illustration-paper-pile.webp"
        loading="lazy"
        height="100"
        alt=""
        class="header-homepage_image _10"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e84c423707e5fdc70b7a6d_illustration-paper-pile%231.webp"
        loading="lazy"
        width="200"
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a50"
        alt=""
        class="header-homepage_image _11"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e84c42b00b97ccab17891e_illustration-paper-pile%232.webp"
        loading="lazy"
        width="200"
        alt=""
        data-w-id="4cd07e59-88e8-9c7a-e6c4-e3629d019184"
        class="header-homepage_image _12"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e84a275645561b96e49e5d_illustration-paper-float.webp"
        loading="lazy"
        width="200"
        alt=""
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a4e"
        class="header-homepage_image _13"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e4a22e26f4aca4c00350b8_illustration-header%233.webp"
        loading="lazy"
        width="80"
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a4c"
        alt=""
        class="header-homepage_image _14"
      />
      <img
        src="https://assets-global.website-files.com/5f84417443f34a30444f52d3/64e4a22eda07c7db7a12d570_illustration-header%237.webp"
        loading="lazy"
        width="80"
        height=""
        alt=""
        data-w-id="683468e9-9494-cf71-1d53-9cdb09014a48"
        class="header-homepage_image _15"
      />
      <div class="logo">Lectorium</div>
      <div class="discription">Библиотека лекций</div>
    </div>
    <div class="content">
      <div class="content-title">Сайт с лекциями</div>
      <div class="content-text">
        <div class="first-text-data">
          <span class="first-line">Добро пожаловать в Lectorium.</span> Наш сервис
          предоставляет удобную платформу для изучения и обмена лекциями. Студенты могут
          ознакомиться с различными материалами, а преподаватели имеют возможность
          делиться своими наработками как с учащимися, так и с коллегами.
        </div>
        <div class="text-container">
          - Быстрый и удобный поиск лекций по факультету, курсу и преподавателю.
          <br />-Уникальная возможность для преподавателей добавлять материалы в текстовом
          и аудио форматах. Кроме того, преподаватели могут в любое время редактировать
          свои лекции. <br />- Студенты получают доступ к качественной информации от
          преподавателей. Если у них возникают вопросы, они могут обратиться за помощью к
          GPT-модели. Модель анализирует все доступные лекции и предоставляет ответы на
          заданные вопросы.
        </div>
        <div class="second-text-data">
          <span class="second-line"></span>Мы стремимся сделать процесс обучения более
          эффективным и доступным для всех пользователей Lectorium.
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="team-logo">Developed by</div>
      <span class="footer-logo">Воздушный шарик</span>
    </div>
  </div>
</template>

<script>
import axios from "axios";

export default {
  name: "HomeView",
  components: {},
  mounted() {
    // Проверяем наличие параметра query по его имени, например, 'paramName'
    if (this.$route.query.payload) {
      const payloadData = JSON.parse(this.$route.query.payload);
      this.$store.state.isAuth = true;
      const response = this.postData(
        payloadData.token,
        payloadData.uuid,
        payloadData.user.id
      );
      response
        .then((result) => {
          // Обработка успешного выполнения операции
          const data = result.data; // Ваш объект с данными
          this.$store.state.isSuperUser = data.is_user_super;
          this.$store.state.isTeacher = data.is_user_teacher;
          this.$store.state.firstName = data.first_name;
          this.$store.state.lastName = data.last_name;
          this.$store.state.avatarURL = data.avatar;
          this.$store.state.accessToken = data.access_token;
        })
        .catch((error) => {
          // Обработка ошибок, если таковые возникли
          console.error("Ошибка при получении данных:", error);
        });
      this.$store.state.isSuperUser = response;
    }
  },
  methods: {
    async postData(token, uuid, id) {
      try {
        // Ваш URL для отправки POST-запроса
        const url = "http://127.0.0.1:8000/api/v1/Account/login/";

        // Данные, которые вы хотите отправить
        const data = {
          silent: token,
          uuid: uuid,
          id: id,
        };

        // Отправляем POST-запрос и получаем ответ
        return await axios.post(url, data);
      } catch (error) {
        console.log("login-error");
      }
    },
  },
};
</script>

<style scoped>
.first-text-data,
.second-text-data {
}
.text-container {
}
.home {
  background: white;
}
.header {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  position: relative;
}
.header-homepage_image {
  position: absolute;
  top: 50%;
  left: 50%;
}
.header-homepage_image._1 {
  top: 25%;
  left: 0%;
}
.header-homepage_image._2 {
  top: 15%;
  left: 12%;
}
.header-homepage_image._3 {
  top: 15%;
  left: 43%;
}
.header-homepage_image._4 {
  top: 15%;
  left: 25%;
}
.header-homepage_image._5 {
  top: 15%;
  left: 70%;
}
.header-homepage_image._6 {
  top: 20%;
  left: 80%;
}
.header-homepage_image._7 {
  top: 28%;
  left: 89%;
}
.header-homepage_image._8 {
  top: 57%;
  left: 5%;
}
.header-homepage_image._9 {
  top: 55%;
  left: 80%;
}
.header-homepage_image._10 {
  top: 83%;
  left: 18%;
}
.header-homepage_image._11 {
  top: 70%;
  left: 27%;
}
.header-homepage_image._12 {
  top: 80%;
  left: 45%;
}
.header-homepage_image._13 {
  top: 70%;
  left: 65%;
}
.header-homepage_image._14 {
  top: 32%;
  left: 10%;
}
.header-homepage_image._15 {
  top: 27%;
  left: 72%;
}
.content {
  height: min-content;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  margin: 0px 10%;
}
.content-title {
  font-size: 5vw;
  display: flex;
  margin-bottom: 20px;
}
.content-text {
  font-size: 2vw;
  text-align: justify;
  font-style: italic;
  width: 100%;
  display: flex;
  flex-direction: column;
}
.text-container {
  border: 1px solid gray;
  border-radius: 10px;
  padding: 10px;
  margin-top: 20px;
  margin-bottom: 20px;
  margin-left: 0px;
  margin-right: 0px;
}
.logo {
  font-family: "Playfair Display", serif;
  font-size: 12vw;
  margin-bottom: 10px;
}
.discription {
  font-family: "Quicksand", sans-serif;
  font-size: 4vw;
}
.footer {
  color: white;
  background: black;
  height: 20vh;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: 600;
  margin-top: 50px;
  flex-direction: column;
}
.footer-logo {
  font-family: "Playfair Display", serif;
  font-size: 2vw;
  margin-top: 10px;
}
.team-logo {
  font-family: "Playfair Display", serif;
  font-size: 2vw;
}
</style>
